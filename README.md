# üìå **README.md ‚Äî Moss Stats Plugin (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π)**

```markdown
# üåø Moss Stats Plugin  
### Minecraft Paper 1.21.6 ‚Äî REST API –¥–ª—è –≤–∞–Ω–∏–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤

**Moss Stats Plugin** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π Paper-–ø–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç *–≤–∞–Ω–∏–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É*  
(`world/stats/*.json` –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –º–∏—Ä–∞), –∫—ç—à–∏—Ä—É–µ—Ç –µ—ë –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π **REST API**.

–ü–ª–∞–≥–∏–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
- –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤  
- –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤  
- –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏ UUID  
- –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é summary —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É  
- —Ç–æ–ø—ã –ø–æ –ª—é–±–æ–º—É stat_key (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ)  
- —Å—Ç–∞—Ç—É—Å online/offline –≤ API  

HTML-–ø–∞–Ω–µ–ª—å **—É–¥–∞–ª–µ–Ω–∞** (–ø–æ –∑–∞–ø—Ä–æ—Å—É).

---

# ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úî –ß—Ç–µ–Ω–∏–µ –≤–∞–Ω–∏–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏  
–ü–ª–∞–≥–∏–Ω —á–∏—Ç–∞–µ—Ç:

```

<world>/stats/<uuid>.json

```

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç:
- play_time, deaths, jumps  
- mined, crafted, used, broken  
- walk/swim/fly distance  
- player_kills, mob_kills  
- –ª—é–±—ã–µ –ø–æ–ª—è –≤ `minecraft:custom`

### ‚úî –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ  
–ü–ª–∞–≥–∏–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–≤—Å–µ stats —Ñ–∞–π–ª–æ–≤** –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤.

### ‚úî –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏  
–†–∞–∑ –≤ N —Å–µ–∫—É–Ω–¥ (–≤ –∫–æ–Ω—Ñ–∏–≥–µ):
```

update-interval-seconds

```

### ‚úî REST API –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º HTTP —Å–µ—Ä–≤–µ—Ä–µ  
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```

:8080

```

### ‚úî –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–æ–ø –ø–æ –ª—é–±–æ–º—É stat_key  
–ù–∞–ø—Ä–∏–º–µ—Ä:

```

/moss/top/minecraft:jump
/moss/top/minecraft:stone
/moss/top/minecraft:player_kills

```

### ‚úî Online/offline —Å—Ç–∞—Ç—É—Å  
–í `/moss/players` –∏ `/moss/players/<uuid>` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ:
```

"online": true/false

```

### ‚úî –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `ConcurrentHashMap` ‚Üí API –æ—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

---

# üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–æ–±—Ä–∞—Ç—å –ø–ª–∞–≥–∏–Ω
```

mvn clean package

```

### 2. –ü–æ–º–µ—Å—Ç–∏—Ç—å JAR –≤ –ø–∞–ø–∫—É:
```

/server/plugins/MossStats.jar

```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Paper 1.21.6:
```

java -jar paper.jar

````

---

# üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `config.yml`

```yaml
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
update-interval-seconds: 60

# –ü–æ—Ä—Ç Web API
web-port: 8080

# –í–∫–ª—é—á–∏—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤
preload-offline-stats: true

# –õ–∏–º–∏—Ç —Ç–æ–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
top-limit: 20

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–º—è –º–∏—Ä–∞ ("" = –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
stats-world: ""

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤: INFO / DEBUG
log-level: INFO
````

---

# üåê REST API

## üìå –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤

```
GET /moss/players
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
[
  {
    "uuid": "ccb86b92-4616-3600-8507-80e0f431a572",
    "name": "Arekku",
    "online": false,
    "stats": { ... }
  }
]
```

---

## üìå –ü–æ–ª—É—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –ø–æ UUID

```
GET /moss/players/<uuid>
```

---

## üìå –ü–æ–ª—É—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –ø–æ –∏–º–µ–Ω–∏

```
GET /moss/player/<name>
```

---

## üìå –û–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–∏

```
GET /moss/online
```

---

## üìå –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```
GET /moss/summary
```

### –û—Ç–≤–µ—Ç:

```json
{
  "players": 51,
  "totals": {
    "total_jumps": 1524421,
    "total_deaths": 922,
    "total_playtime": 18399122,
    "blocks_mined": 55324421,
    "items_crafted": 233525
  }
}
```

---

# üî• –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–æ–ø—ã

### –°—Ç–∞—Ä—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç (alias):

```
GET /moss/top/jumps
```

### –ù–æ–≤—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:

```
GET /moss/top/<stat_key>
```

–ü—Ä–∏–º–µ—Ä—ã:

–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –ø—Ä—ã–∂–∫–∞–º:

```
/moss/top/minecraft:jump
```

–¢–æ–ø –ø–æ –¥–æ–±—ã—á–µ –∫–∞–º–Ω—è:

```
/moss/top/minecraft:stone
```

–¢–æ–ø –ø–æ —É–±–∏–π—Å—Ç–≤–∞–º –º–æ–±–æ–≤:

```
/moss/top/minecraft:mob_kills
```

---

# üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ü–ª–∞–≥–∏–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ:

* `minecraft:custom`
* `minecraft:mined`
* `minecraft:crafted`
* `minecraft:used`
* `minecraft:broken`
* `minecraft:picked_up`
* `minecraft:dropped`

---

# üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
StatsPlugin.java
  ‚îú‚îÄ‚îÄ StatsManager.java        (–∫—ç—à, –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
  ‚îú‚îÄ‚îÄ StatsUtil.java           (—á—Ç–µ–Ω–∏–µ JSON stats)
  ‚îî‚îÄ‚îÄ WebServer.java           (REST API)
```

HTML UI –±—ã–ª —É–¥–∞–ª—ë–Ω –ø–æ –∑–∞–ø—Ä–æ—Å—É.

---

# üì¶ –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JAR:

```
mvn clean package
```

–ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤:

```
target/moss-stats-*.jar
```

---

# ‚ö† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Java 21
* Paper 1.21.6
* Maven 3.8+

---

# üõ† Roadmap

* [ ] API-–∫–ª—é—á–∏ / –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
* [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ summary
* [ ] –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
* [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (rate limit)
* [ ] –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV
