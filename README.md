# üåø Moss Stats Plugin

### –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π REST API –¥–ª—è –≤–∞–Ω–∏–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Minecraft

**Paper 1.21.x (1.21‚Äì1.21.11) ¬∑ Java 21**

![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)
![Java Version](https://img.shields.io/badge/Java-21+-blue)
![PaperMC](https://img.shields.io/badge/Paper-1.21.x-white)
![Build](https://img.shields.io/badge/Build-Maven-orange)

---

**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** Paper 1.21.x (1.21‚Äì1.21.11)  
**Java:** 21  
**API:** —Ç–æ–ª—å–∫–æ Bukkit/Paper (–±–µ–∑ NMS/CraftBukkit)

## üìò –û–±–∑–æ—Ä

**Moss Stats Plugin** ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä—ã–π, –∫—ç—à–∏—Ä—É–µ–º—ã–π –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π REST API –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ–π –≤–∞–Ω–∏–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Minecraft, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –≤:

```
<world>/stats/<uuid>.json
```

–ü–ª–∞–≥–∏–Ω:

* –ó–∞–≥—Ä—É–∂–∞–µ—Ç **—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
* –û–±–Ω–æ–≤–ª—è–µ—Ç **–æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
* –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π **HTTP REST API**
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –ø–æ **–∏–º–µ–Ω–∏ –∏ UUID**
* –°—á–∏—Ç–∞–µ—Ç **–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ totals**
* –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **—Ç–æ–ø—ã –ø–æ –ª—é–±–æ–º—É stat_key**
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—É—é stats-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
* –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º `ConcurrentHashMap`

–ë–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ë–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ß–∏—Å—Ç–∞—è –≤–∞–Ω–∏–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.

---

## üî• –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úî –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ Minecraft

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

* `minecraft:custom`
* `minecraft:mined`
* `minecraft:crafted`
* `minecraft:used`
* `minecraft:broken`
* `minecraft:picked_up`
* `minecraft:dropped`

–ù–∞–ø—Ä–∏–º–µ—Ä:

* –ø—Ä—ã–∂–∫–∏, —Å–º–µ—Ä—Ç–∏, –≤—Ä–µ–º—è –∏–≥—Ä—ã
* —É–±–∏–π—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –º–æ–±–æ–≤
* –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ —Ö–æ–¥—å–±—ã/–ø–ª–∞–≤–∞–Ω–∏—è/–ø–æ–ª—ë—Ç–∞
* –¥–æ–±—ã—Ç—ã–µ –±–ª–æ–∫–∏
* —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã

### ‚úî –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –ø–∞–º—è—Ç–∏

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Map ‚Üí –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã API.

### ‚úî –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥:

```
<world>/stats/
```

### ‚úî –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ `update-interval-seconds`.

### ‚úî –ß–∏—Å—Ç—ã–π REST API

–û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–∞–º–∏, –ø–∞–Ω–µ–ª—è–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –±–æ—Ç–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

### ‚úî –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–æ–ø-–ª–∏—Å—Ç—ã

–ú–æ–∂–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ª—é–±–æ–º—É –∫–ª—é—á—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ Minecraft.

---

# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
mvn clean package
```

### 2. –ü–æ–º–µ—Å—Ç–∏—Ç—å JAR –≤ –∫–∞—Ç–∞–ª–æ–≥:

```
/server/plugins/
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Paper

```bash
java -jar paper.jar
```

REST-—Å–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

# üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.yml`)

```yaml
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤ (—Å–µ–∫)
update-interval-seconds: 60

# –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞
web-port: 8080

# –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å –ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ñ—Ñ–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤
preload-offline-stats: true

# –õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π –≤ —Ç–æ–ø–∞—Ö
top-limit: 20

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–º—è –º–∏—Ä–∞ ("" = –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
stats-world: ""

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
log-level: INFO
```

---

# üåê REST API

## üîπ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤

```
GET /moss/players
```

**–ü—Ä–∏–º–µ—Ä:**

```json
[
  {
    "uuid": "ccb86b92-4616-3600-8507-80e0f431a572",
    "name": "Arekku",
    "online": false,
    "stats": { ... }
  }
]
```

---

## üîπ –ü–æ–ª—É—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –ø–æ UUID

```
GET /moss/players/<uuid>
```

---

## üîπ –ü–æ–ª—É—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –ø–æ –∏–º–µ–Ω–∏

```
GET /moss/player/<name>
```

---

## üîπ –°–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤

```
GET /moss/online
```

---

## üîπ –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```
GET /moss/summary
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "players": 51,
  "totals": {
    "total_jumps": 1524421,
    "total_deaths": 922,
    "total_playtime": 18399122,
    "blocks_mined": 55324421,
    "items_crafted": 233525
  }
}
```

---

## üîπ –¢–æ–ø—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–ø:

```
GET /moss/top/jumps
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ç–æ–ø:

```
GET /moss/top/<stat_key>
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```
/moss/top/minecraft:jump
/moss/top/minecraft:stone
/moss/top/minecraft:player_kills
/moss/top/minecraft:walk_one_cm
```

---

# üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/main/java/com/plp/statsplugin/
 ‚îú‚îÄ‚îÄ StatsPlugin.java     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø–ª–∞–≥–∏–Ω–∞
 ‚îú‚îÄ‚îÄ StatsManager.java    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
 ‚îú‚îÄ‚îÄ StatsUtil.java       # –ß—Ç–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ vanilla stats
 ‚îî‚îÄ‚îÄ WebServer.java       # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è REST API
```

---

# ‚ö† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Java 21
* Paper 1.21+
* Maven 3.8+

---

# üìà –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–∞–Ω–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –≤–µ–±-–¥–∞—à–±–æ—Ä–¥—ã

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è Next.js / React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:

* –º–µ—Ç—Ä–∏–∫ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏
* –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤/–±–ª–æ–∫–æ–≤
* –∞–Ω–∞–ª–∏–∑–∞ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–∞–º–∏

Discord/Telegram-–±–æ—Ç –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:

* –≤—Ä–µ–º—è –∏–≥—Ä—ã
* K/D
* –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
* —Ç–æ–ø-–ª–∏—Å—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:

* —Ä–∞–Ω–≥–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
* –Ω–∞–≥—Ä–∞–¥ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
* –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

---
